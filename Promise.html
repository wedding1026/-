<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const p = new Promise((resolve,reject)=>{
        const xhr = new XMLHttpRequest()
        xhr.onreadystatechange = ()=>{
          if(xhr.readyState === 4){
            if(xhr.status === 200) resolve(xhr.response)
            else reject ('错误')
          }
        }
        xhr.open('GET','https://api.apiopen.top/getJoke')
        xhr.responseType = 'json'
        xhr.send()
      })
      p.then(
        (value)=> {
          console.log('cg',value) 
        },
        (reason)=>{
          console.log('shibai',reason)
        }
      )
    </script>
  </body>
</html>